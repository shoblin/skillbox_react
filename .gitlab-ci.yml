image: node:lts-stretch-slim
stages:
    - Build
    - Test

install_dependencies:
    stage: Build
    script: yarn install
    artifacts: 
        paths:
            - node_modules
    cache:
        - key:
            files:
                - .yarn.lock
            paths: 
                - node_modules


test_run:
    stage: Test
    script: 
        - CI=True yarn test

